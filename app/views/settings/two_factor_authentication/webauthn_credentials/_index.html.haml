- if current_user.webauthn_required_for_login?
  %p.hint
    %span.positive-hint
      = fa_icon 'check'
      = ' '
      = t 'webauthn_credentials.enabled'

  %hr.spacer/

  .table-wrapper
    %table.table
      %thead
        %tr
          %th= t 'webauthn_credentials.nickname'
          %th= t 'webauthn_credentials.last_used'
          %th
      %tbody
        - @webauthn_credentials.each do |credential|
          %tr
            %td= credential.nickname
            %td= credential.last_used_on ? l(credential.last_used_on) : t('webauthn_credentials.not_used')
            %td
              = table_link_to 'times', t('webauthn_credentials.delete'), settings_two_factor_authentication_webauthn_credential_path(credential), method: :delete, data: { confirm: t('webauthn_credentials.delete_confirmation') }

    %hr.spacer/

  .simple_form
    = link_to t('webauthn_credentials.add'), new_settings_two_factor_authentication_webauthn_credential_path, class: 'block-button'

- else
  .simple_form
    %p.hint= t('webauthn_credentials.description_html')

    %hr.spacer/

    = link_to t('webauthn_credentials.setup'), new_settings_two_factor_authentication_webauthn_credential_path, class: 'block-button'

%hr.spacer/
